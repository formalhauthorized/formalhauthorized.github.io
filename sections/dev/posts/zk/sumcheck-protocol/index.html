<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{box-sizing:border-box;margin:0;padding:0}html{width:100vw;width:-moz-available;width:-webkit-fill-available;min-height:100vh;min-height:-moz-available;min-height:-webkit-fill-available}body{--background-color: #f4f4f4;--text-color: black;--text-on-primary: black;width:100%;height:100%;color:var(--text-color);font-family:Menlo,Courier,Arial,Helvetica,sans-serif}h1{margin-bottom:1.5rem}a{color:inherit;text-decoration:none}a:hover{background:rgba(0,0,0,.1);cursor:pointer}ul{list-style-type:none}ul,ol{list-style-position:inside}button{cursor:pointer;font-size:1em;background-color:#35e872;color:#fff;font-family:inherit;border-style:none;padding:.5em 1em}blockquote{border-left:12px solid #ddd;margin-bottom:1.2rem;padding:.5rem}blockquote p{display:inline;margin:0px;padding:0px}body.dark-mode{--background-color: #111;--text-color: #dadada}.dark-mode img{filter:grayscale(20%)}.dark-mode .post-screen a:hover{background:hsla(0,0%,100%,.1)}.dark-mode blockquote{border-left:12px solid #333}.menu-screen{min-height:100vh;min-height:-webkit-fill-available;background-color:#008529;color:var(--text-on-primary);position:relative}.logo{font-family:"Times New Roman",Times,Georgia,serif;transform-origin:top right;transform:rotate(-90deg);position:absolute;top:0px;right:5%}.logo a{padding:10px}.logo a:hover{background-color:#000;color:#fff}.menu-container{min-height:100vh;display:flex;flex-direction:column;justify-content:flex-start;padding:5%}.nav_language{margin-top:1rem}.nav_language li{text-transform:uppercase;display:inline}.nav_language .selected{text-decoration:underline}.nav_language li:not(:first-child):before{content:" / "}.nav_category{padding-top:1rem;margin-top:10vh;margin-bottom:auto}.nav_category .category_list{border-bottom:solid 2px var(--text-on-primary)}.nav_category .category_list li{border-top:dashed 1px var(--text-on-primary);line-height:200%}.nav_category .category_list>li:first-child{border-top:solid 2px var(--text-on-primary)}.darkmode__toggle{margin-top:1rem;margin-bottom:2rem}.darkmode__star{font-size:2em;text-align:center}.darkmode__text:hover{cursor:pointer}.external-link:hover{cursor:alias}.post-screen{min-height:100vh;background-color:var(--background-color);padding:5%;font-family:"Times New Roman",Times,Georgia,serif;display:flex;flex-direction:column;justify-content:space-between}.post-screen img{max-width:100%;max-height:100%;display:block}.path__link a{margin-right:1rem}.path__link a:not(:first-child){margin-left:1rem}.content__post h2{padding-top:.7rem}.content__post .content__path{border-bottom:solid 1px var(--text-color)}.content__post .content__time{font-size:.9em;text-align:end}.content__post .content__content{margin-top:4rem}.content__post .content__content h1,.content__post .content__content h2,.content__post .content__content h3,.content__post .content__content h4{margin-top:1rem;margin-bottom:1rem}.content__post .content__content a{text-decoration:underline}.content__post .content__content p{padding-bottom:1rem}.content__post .content__content ol,.content__post .content__content ul{padding-bottom:1rem}.content__post input{background-color:hsl(0,0%,88.031372549%);color:hsl(0,0%,30%);margin:1em}.content__post .dark-mode input{background-color:hsl(0,0%,16%);color:rgb(196.2,196.2,196.2)}.content__category .content__category__list{border-top:solid 2px var(--text-color);border-bottom:solid 2px var(--text-color)}.content__category .content__category__list li{text-indent:1em;line-height:180%;text-transform:capitalize}.content__category .content__category__list li:not(:first-child){border-top:dashed 1px var(--text-color)}.category__table{width:100%;border-collapse:collapse;border-top:solid 2px var(--text-color);border-bottom:solid 2px var(--text-color)}.category__table tr{text-indent:1em;line-height:180%;text-transform:capitalize;border-bottom:dashed 1px var(--text-color)}.category__table tr td:nth-child(2){text-align:center}.category__table th{border-bottom:solid 1px var(--text-color)}.page__container h1,.page__container h2,.page__container h3{text-transform:capitalize}.page__container .page__container__title{border-bottom:solid 2px var(--text-color)}.page__container .content__time{text-align:end;font-size:.9em;padding-bottom:1rem}.page__container a{text-decoration:underline}.page__container .page__div{margin-bottom:2rem}.page__container .search__tags ul{display:grid;grid-template-rows:repeat(20, min-content);grid-auto-flow:column}.page__container p{margin-bottom:1rem}.post__tag__list{margin-top:4rem;font-size:.9em;text-align:right}.search__ui{background-color:#35e872;border-radius:3px}.search__toggle__off .search__toggle{display:none}.search__toggle__off{background-color:rgba(0,0,0,0)}.search__toggle__off .search__results__container{display:none}.search__icon__input{margin-top:.5rem;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.search__icon__input .search__icon__container a{display:inline-block}.search__icon__input .search__icon__container .search__icon{fill:#000;padding-top:.5rem;width:2.5em;height:2.5em}.search__icon__input .search__toggle{flex-grow:1;margin-left:.5rem;margin-right:.5rem}.search__icon__input .search__toggle input{width:100%;line-height:1.3rem}.search__results__container .search__results{padding-left:3rem;font-family:"Times New Roman",Times,Georgia,serif}.search__results__container .search__results li{padding-bottom:.3rem;margin-right:.3rem;white-space:nowrap;overflow:hidden}.search__results__container .search__results li .search__result__title{text-transform:capitalize}.search__results__container .search__results li .search__result__desc::before{content:"";margin-right:1rem}.search__results__container .search__results li .search__result__desc{opacity:.6}.search__container .search__title{border-bottom:solid 2px var(--text-color);text-transform:uppercase}.search__container input{display:block;width:100%;margin:1rem 0rem;line-height:1.3rem}.search__container .search__tags{margin-top:3rem}.search__container .search__tags h2{margin-bottom:.5rem}.search__container .search__tags ul{margin:.7rem;list-style-type:disc}.search__container .search__tags ul li{padding:.2rem}.footer{border-top:solid 1px var(--text-color);margin-top:3rem;padding:.8rem 1rem 0rem}.footer .footer__container{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;font-size:.7em}.footer .footer__container .footer__column *{display:inline;line-height:1.3em}.footer .footer__container .footer__column * li:before{content:" ";margin-left:.2rem}.footer .footer__title{margin-right:.2rem;font-weight:bold}@media(max-height: 800px){.nav_category{margin-top:calc(10vh*.5)}}@media(min-width: 1100px){.whole-container{display:flex;position:relative}.menu-screen{height:fit-content;height:-moz-fit-content;width:50%;position:sticky;top:0}.menu-container{min-height:100vh}.post-screen{width:50%;padding:calc(5%*.5)}}pre{border-radius:5px;background:hsl(0,0%,88.031372549%);border:1px solid hsl(0,0%,74.8266666667%);border-left:3px solid rgb(0,126.35,38.95);color:hsl(0,0%,30%);page-break-inside:avoid;font-family:monospace,Menlo,Monaco,Consolas;font-size:.95em;line-height:1.2;border-radius:5px;margin-bottom:1.6em;max-width:100%;overflow:auto;padding:.8rem 1.5rem;display:block;word-wrap:break-word;position:relative}code{background:hsl(0,0%,88.031372549%);padding:.1em .5em;border-radius:3px;border:1px solid hsl(0,0%,74.8266666667%)}pre code{background:hsl(0,0%,88.031372549%);border:none;padding:0em}.dark-mode pre{background:hsl(0,0%,16%);color:rgb(196.2,196.2,196.2);border:1px solid hsl(0,0%,32.8%);border-left:3px solid rgb(0,126.35,38.95)}.dark-mode code{background:hsl(0,0%,16%);border:1px solid hsl(0,0%,24.4%)}.dark-mode pre code{color:inherit;background:rgba(0,0,0,0);border:none}pre:hover,pre:focus{border-left:3px solid #338df3}.codeButton{background-color:rgba(0,0,0,0);-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2x;border:1px solid;display:inline-block;cursor:pointer;color:rgb(0,126.35,38.95);font-family:Arial;font-size:14px;padding:2px 2px;text-decoration:none;margin:2px 2px}.codeButton:hover{background-color:rgb(0,126.35,38.95);color:#000}.codeButton:active{background-color:#338df3;border:1px solid #338df3}pre .codeButton{position:absolute;top:4px;right:4px}</style><title>sumcheck protocol</title><meta name="description" content="Blog by Formalhauthorized"><link rel="apple-touch-icon" href="/images/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="192x192" href="/images/favicons/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="512x512" href="/images/favicons/android-chrome-512x512.png"><link rel="manifest" href="/images/favicons/site.webmanifest"><meta name="msapplication-TileColor" content="#ffffff"><meta name="theme-color" content="#ffffff"></head><body><div class="whole-container"><div class="menu-screen"><div class="logo"><a href="/index.html">formalhauthorized</a></div><div class="menu-container"><div class="menutitle"><h1><a href="/dev/index.html">Formalhauthorized Blog</a></h1><p>a blog<br>by formalhauthorized</p><ul class="nav_language"><li><a href="/dev/" class="nav_language_a"><span class="selected">dev</span></a></li><li><a href="/etc/" class="nav_language_a"><span class="not_selected">etc</span></a></li><li><a href="/antora-docs/" class="nav_language_a"><span>DOC</span></a></li></ul></div><div class="nav_category"><h4>CATEGORY</h4><div class="categories"><ul class="category_list"><li style="text-indent:0em">- <a href="/dev/all/">All</a><ul><li style="text-indent:1.5em">- <a href="/dev/all/antora/">Antora</a></li><li style="text-indent:1.5em">- <a href="/dev/all/bitcoin/">Bitcoin</a></li><li style="text-indent:1.5em">- <a href="/dev/all/docker/">Docker</a></li><li style="text-indent:1.5em">- <a href="/dev/all/misc/">Misc</a></li><li style="text-indent:1.5em">- <a href="/dev/all/rust/">Rust</a></li><li style="text-indent:1.5em">- <a href="/dev/all/solana/">Solana</a></li><li style="text-indent:1.5em">- <a href="/dev/all/solidity/">Solidity</a></li><li style="text-indent:1.5em">- <a href="/dev/all/zk/">Zk</a></li></ul></li></ul></div><div class="search__ui search__toggle__off"><div class="search__icon__input"><div class="search__icon__container"><a href="/dev/search/" id="search-link" data-section="dev"><span><svg role="img" aria-label="Search" class="search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></span></a></div><div class="search__toggle"><input id="search__str" class="search__str"></div></div><div class="search__results__container"><ol class="search__results"><ol></ol></ol></div></div></div><div class="darkmode__toggle"><p class="darkmode__star"><span class="darkmode__text">&star;</span></p></div></div></div><div class="post-screen"><div class="content"><div class="content__post"><p class="path__link content__path"><a href="/dev/all/">All</a> > <a href="/dev/all/zk/">Zk</a></p><h2 class="content__title">Sumcheck Protocol</h2><p class="content__time"><time datetime="2025-11-28">28 November 2025</time></p><div class="content__content"><h1>Protocol</h1><p>note: it is very brief description of the protocol without any explanation. Also the notation is off, cause I cannot use the full tex here.</p><p><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><msup><mi mathvariant="double-struck">F</mi><mi>m</mi></msup><mo>→</mo><mi mathvariant="double-struck">F</mi><mtext> of degree d</mtext></mrow><annotation encoding="application/x-tex">f:\mathbb{F}^m \rightarrow \mathbb{F} \text{ of degree d}</annotation></semantics></math></span></p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><msub><mi>h</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo>∈</mo><mi>H</mi></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><msub><mi>h</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>β</mi></mstyle></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{h_1, \dots , h_m \in H} f(h_1, \dots , h_m) = \beta</annotation></semantics></math></span></p><p>The Prover P will send <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_1(x)</annotation></semantics></math></span><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext></mrow><annotation encoding="application/x-tex">\space</annotation></semantics></math></span>to Verifier V:</p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>g</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><msub><mi>h</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo>∈</mo><mi>H</mi></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>h</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo stretchy="false">)</mo></mstyle></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation} g_1 (x) = \displaystyle\sum_{h_2, \dots , h_m \in H} f(x, h_2, \dots , h_m) \end{equation}</annotation></semantics></math></span></p><p>The Verifier V checks:</p><ol><li>the <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">g_1</annotation></semantics></math></span>is of degree <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\le d</annotation></semantics></math></span></li><li><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><mi>h</mi><mo>∈</mo><mi>H</mi></mrow></munder><msub><mi>g</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>=</mo><mi>β</mi></mstyle></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{h \in H} g_1(h) = \beta</annotation></semantics></math></span></li></ol><p>When it passes, the Verifier V will send a random value <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub><mo>←</mo><mi mathvariant="double-struck">F</mi></mrow><annotation encoding="application/x-tex">t_1 \leftarrow \mathbb{F}</annotation></semantics></math></span><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext></mrow><annotation encoding="application/x-tex">\space</annotation></semantics></math></span>to the Prover P.</p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><msub><mi>h</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo>∈</mo><mi>H</mi></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>h</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mstyle></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation} \displaystyle\sum_{h_2, \dots , h_m \in H} f(t_1, h_2, \dots , h_m) = g_1(t_1) \end{equation}</annotation></semantics></math></span></p><p>The Prover P sends <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">g_2(x)\;</annotation></semantics></math></span>to Verifier V:</p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><msub><mi>h</mi><mn>3</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo>∈</mo><mi>H</mi></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>h</mi><mn>3</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo stretchy="false">)</mo></mstyle></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation} g_2 (x) = \displaystyle\sum_{h_3, \dots , h_m \in H} f(t_1, x, h_3, \dots , h_m) \end{equation}</annotation></semantics></math></span></p><p>The Verifier V checks:</p><ol><li>the <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">g_2</annotation></semantics></math></span>is of degree <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\le d</annotation></semantics></math></span></li><li><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><mi>h</mi><mo>∈</mo><mi>H</mi></mrow></munder><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{h \in H} g_2(h) = g_1(t_1)</annotation></semantics></math></span></li></ol><p>When it passes, the Verifier V will send a random value <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>2</mn></msub><mo>←</mo><mi mathvariant="double-struck">F</mi><mtext>  </mtext></mrow><annotation encoding="application/x-tex">t_2 \leftarrow \mathbb{F} \;</annotation></semantics></math></span>to the Prover P.</p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><msub><mi>h</mi><mn>3</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo>∈</mo><mi>H</mi></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>t</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>h</mi><mn>3</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mstyle></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation} \displaystyle\sum_{h_3, \dots , h_m \in H} f(t_1, t_2, h_3, \dots , h_m) = g_2(t_2) \end{equation}</annotation></semantics></math></span></p><p>The Prover P sends <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">g_3(x) \;</annotation></semantics></math></span>to Verifier V:</p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>g</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><msub><mi>h</mi><mn>4</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo>∈</mo><mi>H</mi></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>t</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>h</mi><mn>4</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>h</mi><mi>m</mi></msub><mo stretchy="false">)</mo></mstyle></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation} g_3 (x) = \displaystyle\sum_{h_4, \dots , h_m \in H} f(t_1, t_2, x, h_4, \dots , h_m) \end{equation}</annotation></semantics></math></span></p><p>The Verifier V checks:</p><ol><li>the <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">g_3</annotation></semantics></math></span>is of degree <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\le d</annotation></semantics></math></span></li><li><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><mi>h</mi><mo>∈</mo><mi>H</mi></mrow></munder><msub><mi>g</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{h \in H} g_3(h) = g_2(t_2)</annotation></semantics></math></span></li></ol><p>When it passes, the Verifier V will send a random value <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>3</mn></msub><mo>←</mo><mi mathvariant="double-struck">F</mi><mtext>  </mtext></mrow><annotation encoding="application/x-tex">t_3 \leftarrow \mathbb{F} \;</annotation></semantics></math></span>to the Prover P.</p><p><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span></p><p>The Prover P sends <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>m</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">g_m(x)\;</annotation></semantics></math></span>to Verifier V:</p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>g</mi><mi>m</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>t</mi><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{equation} g_m (x) = f(t_1, \dots, t_{m-1}, x) \end{equation}</annotation></semantics></math></span></p><p>The Verifier V checks:</p><ol><li>the <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">g_m</annotation></semantics></math></span>is of degree <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">\le d</annotation></semantics></math></span></li><li><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="0" displaystyle="true"><munder><mo>∑</mo><mrow><mi>h</mi><mo>∈</mo><mi>H</mi></mrow></munder><msub><mi>g</mi><mi>m</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mstyle></mrow><annotation encoding="application/x-tex">\displaystyle\sum_{h \in H} g_m(h) = g_{m-1}(t_{m-1})</annotation></semantics></math></span></li></ol><p>When it passes, the Verifier V will send a random value <span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>m</mi></msub><mo>←</mo><mi mathvariant="double-struck">F</mi><mtext>  </mtext></mrow><annotation encoding="application/x-tex">t_m \leftarrow \mathbb{F} \;</annotation></semantics></math></span>to the Prover P.</p><p class="katex-block"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>g</mi><mi>m</mi></msub><mo stretchy="false">(</mo><msub><mi>t</mi><mi>m</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>t</mi><mi>m</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_m(t_m) = f(t_1, \dots, t_m)</annotation></semantics></math></span></p><h1>Example</h1><p>Let's say the degree d = 2 and the m = 3. The function is:</p><p id="funcf"></p><p>Below is an example of honest prover.</p><p id="honestExample"></p><p>Below is an example of dishonest prover.</p><p>It is possible to &quot;prove&quot; an incorrect number to be the sum of the function, because the verifier leaks the random t before the corresponding g is sent over.</p><p id="dishonestExample"></p><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><script defer="defer" src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.js" integrity="sha384-J+9dG2KMoiR9hqcFao0IBLwxt6zpcyN68IgwzsCSkbreXUjmNVRhPFTssqdSGjwQ" crossorigin="anonymous"></script><script type="module">const funcDegree = 2; // degree
    const funcArity = 3; // number of variables
    const numCoeff = funcDegree * funcArity + 1;
    const funcCoeffs = Array.from({ length: numCoeff }, (_, i) => i+1);

    const funcfEl = document.getElementById("funcf");
    const latex = buildLatex(funcCoeffs, funcDegree, funcArity);
    katex.render(latex, funcfEl, {throwOnError: false});

    import init, { greet, honest_example, dishonest_example } from "./sumcheck_protocol.js";

    init().then(() => {
        greet("start with wasm");
        const exampleText = honest_example(funcDegree, funcArity, funcCoeffs);
        const testEl = document.getElementById("honestExample");
        console.log(exampleText);
        katex.render(exampleText, testEl, {displayMode: true, throwOnError: false});
        const ex2El = document.getElementById("dishonestExample");
        const exampleText2 = dishonest_example(funcDegree, funcArity, 2, 5, funcCoeffs);
        console.log(exampleText2);
        katex.render(exampleText2, ex2El, {displayMode: true, throwOnError: false});
    });



function buildLatex(coeffs, d, m) {
  const terms = [];

  for (let j = 1; j <= m; j++) {          // j variable index (h1, h2, ...)
    for (let k = 1; k <= d; k++) {        // k power (1..d)
      const idx = (j - 1) * d + (k - 1);
      const coef = coeffs[idx];

      // skip zero coefficients
      if (!coef) continue;

      let coefStr = "";

      // coefficient part
      if (coef === 1) {
        coefStr = "";
      } else if (coef === -1) {
        coefStr = "-";
      } else {
        coefStr = coef.toString();
      }

      let term = coefStr + `h_{${j}}`;

      // power part
      if (k > 1) {
        term += `^{${k}}`;
      }

      terms.push(term);
    }
  }
  // last term
  const last = coeffs[d * m];
  if (last === 0) {
  } else {
      terms.push(` ${last}`);
  }

  // join with + and fix "+ -" into "-"
  const body = terms.join(" + ").replace(/\+\s-/g, "- ");
  return `f(h_{1},\\dots,h_{${m}}) = ${body}`;
}</script></div><div class="post__tag__list"><ul><li><a href="/dev/tags/zk/">#zk</a></li><li><a href="/dev/tags/protocol/">#protocol</a></li></ul></div></div></div><div class="footer"><div class="footer__container"><div class="footer__column"><span class="footer__title">About</span><ul class="footer__list"><!-- <li><a href="/dev/imprint/">Imprint</a></li> --><li><a href="/dev/privacy-policy/">Privacy policy</a></li></ul></div></div></div></div></div><script>(()=>{const e=document.querySelectorAll('pre[class*="language"]'),t=["codeButton"];e.forEach(e=>{e.classList.add("relative");const n=document.createElement("button");n.classList.add(...t),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>',n.addEventListener("click",()=>{navigator.clipboard.writeText(e.textContent)}),e.appendChild(n)})})();{const e="dark",t="light",n="colorSchemeChanged",r=document.querySelector("body"),o=document.querySelector(".darkmode__text");o.addEventListener("click",function(){const c=r.classList.toggle("dark-mode"),s=c?e:t;sessionStorage.setItem("jec.color-scheme",s),o.innerHTML=c?"&starf;":"&star;",o.dispatchEvent(new CustomEvent(n,{detail:s}))})}{function init(){const e="dark",t=matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches;let n=sessionStorage.getItem("jec.color-scheme");n=!n&&t?e:n||"light",n===e&&document.querySelector(".darkmode__text").click()}init()}function itemToElement(e){var t=document.createElement("li"),n=document.createElement("a"),r=document.createElement("span"),o=document.createElement("span");return r.innerHTML=e.title,n.setAttribute("href",e.url),r.setAttribute("class","search__result__title"),n.appendChild(r),isEmpty(e.description)||(o.innerHTML=capitalize(e.description),o.setAttribute("class","search__result__desc"),n.appendChild(o)),t.appendChild(n),t}function isEmpty(e){return!e||0===e.length}function capitalize(e){return e&&e[0].toUpperCase()+e.slice(1)}function sortTable(e){var t,n,r,o,c,s,a=0;const l=document.querySelector(".category__table");for(t=!0,r="asc";t;){for(t=!1,o=l.rows,i=1;i<o.length-1;i++)if(n=!1,c=o[i].getElementsByTagName("TD")[e],s=o[i+1].getElementsByTagName("TD")[e],"asc"==r){if(c.innerHTML.toLowerCase()>s.innerHTML.toLowerCase()){n=!0;break}}else if("desc"==r&&c.innerHTML.toLowerCase()<s.innerHTML.toLowerCase()){n=!0;break}n?(o[i].parentNode.insertBefore(o[i+1],o[i]),t=!0,a++):0==a&&"asc"==r&&(r="desc",t=!0)}}!function(){const e=document.querySelector("#search-link").dataset.section,t=(document.documentElement.lang,document.querySelector("#search-link")),n=document.querySelector(".search__ui"),r=document.querySelector("#search__str"),o=document.querySelector(".search__results");var c;function s(){for(;o.firstChild;)o.removeChild(o.firstChild)}t.addEventListener("click",function(t){t.preventDefault(),fetch(`/${e}/search.json`).then(function(e){return e.json()}).then(function(e){c=e.search}).catch(function(e){console.log("something went wrong\n",e)});n.classList.toggle("search__toggle__off");r.focus(),r.addEventListener("keyup",function(e){var t=r.value;2<t.length?function(e){e=e.toLowerCase();var n=[];for(var r in c){-1!=c[r].text.indexOf(t)&&n.push(c[r])}for(var r in s(),n){const e=itemToElement(n[r]);o.appendChild(e)}}(t):s()})},!1)}(),console.log("hello world");</script></body></html>